RewriteEngine on

# Exclude existing files and directories from the rewrite rule
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# Set MIME types for JavaScript files
AddType application/javascript .js
AddType application/javascript-module .mjs

# Rewrite all other URLs to index.php
RewriteBase /

# Redirection vers index.php pour toutes les URLs sauf celles existantes
RewriteRule ^(.+)$ index.php?url=$1 [NC,L]

# Accès direct à index.php autorisé
RewriteRule ^index\.php$ - [L]b